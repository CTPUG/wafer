{% extends "wafer/base.html" %}
{% load i18n %}
{% block content %}
<section class="wafer wafer-talk">
<h1>
    {{ object.title }}
    {% if can_edit %}
        <a href="{% url 'wafer_talk_edit' object.pk %}" class="pull-right btn btn-default btn-lg">{% trans 'Edit' %}</a>
    {% endif %}
</h1>
<div>
    <p>
    {% blocktrans count counter=object.authors.count %}
    Speaker:
    {% plural %}
    Speakers:
    {% endblocktrans %}
    {% for author in object.authors.all %}
    <a href="{% url 'wafer_user_profile' username=author.username %}">{{ author.userprofile.display_name }}</a>
    {% endfor %}
    </p>
    <p>
    Type:
    {{ object.talk_type.name|default:'Talk' }}
    </p>
    {% if object.get_in_schedule %}
    {% for schedule in object.scheduleitem_set.all %}
    <p>
    Room:
    {{ schedule.venue }}
    </p>
    <p>
    Time:
    {{ schedule.get_start_time }}
    </p>
    <p>
    Duration:
    {{ schedule.get_duration.hours|floatformat }}h{{ schedule.get_duration.minutes|floatformat }}
    </p>
    {% endfor %}
    {% endif %}
</div>
{% if user.is_staff %}
<div>
    <p>
    {% trans 'Status:' %}
    {% if object.pending %}
    <span class="label label-warning">{% trans 'Under consideration' %}</span>
    {% elif object.accepted %}
    <span class="label label-success">{% trans 'Accepted' %}</span>
    {% else %}
    <span class="label label-danger">{% trans 'Not accepted' %}</span>
    {% endif %}
    </p>
</div>
{% endif %}
<div class="well">
    {{ object.abstract.rendered|safe }}
</div>
{% if perms.edit_private_notes and object.private_notes %}
<h2>Private notes</h2>
<p>(The following is not visible to submitters or attendees.)</p>
<div class="well">
  {{ object.private_notes|urlize|linebreaks }}
</div>
{% endif %}
{% if talk.talkurl_set.all %}
<div class="well" id="urls">
   <div>{% trans "URLS" %}</div>
   <ul>
      {% for talkurl in talk.talkurl_set.all %}
      <li><a href="{{ talkurl.url }}">{{ talkurl.description }}</a></li>
      {% endfor %}
   </ul>
</div>
{% endif %}
</section>
{% endblock %}
